

## Проблема

При открытии файлов на опубликованном сайте работает только первый клик. Повторные попытки открыть другой файл показывают "about:blank" в адресной строке. Это происходит из-за того, что мобильные браузеры (особенно Safari на iOS) ограничивают повторные вызовы `window.open('', '_blank')` — возвращается ссылка на невалидное или уже закрытое окно.

## Решение

Заменить подход с `window.open` на программное создание невидимой ссылки `<a>` с атрибутами `href` и `target="_blank"`, а затем вызов `.click()` на ней. Этот метод:
- Не блокируется браузерами как попап
- Работает стабильно при множественных вызовах
- Совместим с мобильными браузерами

## Затронутые файлы

1. **`src/tabs/ProtocolsTab.tsx`** — функция `handleOpenFile`
2. **`src/tabs/DashboardTab.tsx`** — кнопки открытия файлов сессий
3. **`src/tabs/RoadmapsTab.tsx`** — кнопки открытия файлов дорожных карт

## Техническая реализация

Создать вспомогательную функцию `openSignedFile` в отдельном файле `src/lib/openFile.ts`, которая:
1. Запрашивает подписанную ссылку у хранилища
2. Создаёт временный элемент `<a>` с `target="_blank"` и `rel="noopener noreferrer"`
3. Программно кликает по нему
4. Удаляет элемент из DOM

```text
Пользователь нажимает "Открыть файл"
        |
        v
openSignedFile(filePath)
        |
        v
Запрос подписанной ссылки (createSignedUrl)
        |
        v
Создание временного <a href="..." target="_blank">
        |
        v
Программный .click() — браузер открывает ссылку
        |
        v
Удаление <a> из DOM
```

Все три компонента будут импортировать и использовать эту общую функцию, что также устранит дублирование кода.

